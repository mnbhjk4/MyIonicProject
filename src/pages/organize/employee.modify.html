<ion-header>
    <ion-navbar [hideBackButton]="true">
        <ion-title>Modify Employee</ion-title>
        <button ion-button (click)="save()"><ion-icon name="md-checkmark" ></ion-icon></button>
        <button ion-button (click)="cancel()"><ion-icon name="md-close" ></ion-icon></button>
    </ion-navbar>
</ion-header>
<ion-content>
    <ion-grid>
        <ion-row warp>
            <ion-col>
                <ion-list class="info-grid">
                    <ion-item>
                        <ion-label>員工編號</ion-label>
                        <ion-input [(ngModel)]="employee.empNo" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>E-Mail</ion-label>
                        <ion-input [(ngModel)]="employee.mail" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>姓</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.firstName" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>名</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.lastName" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>生日</ion-label>
                        <ion-datetime displayFromat="YYYY-MM-DD" [(ngModel)]="employee.employeesInfo.birthDate" required></ion-datetime>
                    </ion-item>
                    <ion-item>
                        <ion-label>性別</ion-label>
                        <ion-select [(ngModel)]="employee.employeesInfo.gender">
                            <ion-option value="M">Male</ion-option>
                            <ion-option value="F">Female</ion-option>
                        </ion-select>
                    </ion-item>
                    <ion-item>
                        <ion-label>聯絡地址</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.contactAddr1" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>戶籍地址</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.contactAddr2"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>聯絡電話</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.contactPhone1" required></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>戶籍電話</ion-label>
                        <ion-input [(ngModel)]="employee.employeesInfo.contactPhone2"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-label>就職日</ion-label>
                        <ion-datetime displayFromat="YYYY-MM-DD" [(ngModel)]="employee.employeesInfo.hireDate" required></ion-datetime>
                    </ion-item>
                    <ion-item>
                        <ion-label>員工證照</ion-label>
                         <input type="file" (change)="uploadFile($event)"/>
                    </ion-item>
                </ion-list>
               
            </ion-col>
            <ion-col>
                <ion-grid class="role-grid">
                    <ion-row>
                        <ion-col>選擇職稱</ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col></ion-col><ion-col>職稱</ion-col><ion-col>部門</ion-col>
                    </ion-row>
                    <ion-row *ngFor="let role of roles">
                        <ion-col><ion-checkbox [(ngModel)]="role.selected" (ionChange)="changePermission(role,$event)"></ion-checkbox></ion-col><ion-col>{{role.roleName}}</ion-col><ion-col>{{role.department.name}}</ion-col>
                    </ion-row>
                </ion-grid>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                <ion-grid class="permission-grid">
                    <ion-row>
                        <ion-col>選擇權限</ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col><ion-label>Create</ion-label></ion-col>
                        <ion-col><ion-label>Upate</ion-label></ion-col>
                        <ion-col><ion-label>Read</ion-label></ion-col>
                        <ion-col><ion-label>Delete</ion-label></ion-col>
                        <ion-col><ion-label>Function name</ion-label></ion-col>
                    </ion-row>
                    <ion-row *ngFor="let functionMap of functionMaps">
                        <ion-col><ion-checkbox #box class="create-box" [attr.func]="functionMap.functionName" [(ngModel)]="functionMap.create"></ion-checkbox></ion-col>
                        <ion-col><ion-checkbox #box class="update-box" [attr.func]="functionMap.functionName" [(ngModel)]="functionMap.update"></ion-checkbox></ion-col>
                        <ion-col><ion-checkbox #box class="read-box" [attr.func]="functionMap.functionName" [(ngModel)]="functionMap.read"></ion-checkbox></ion-col>
                        <ion-col><ion-checkbox #box class="delete-box" [attr.func]="functionMap.functionName" [(ngModel)]="functionMap.delete"></ion-checkbox></ion-col>
                        <ion-col><ion-label>{{functionMap.functionName}}</ion-label></ion-col>
                    </ion-row>
                </ion-grid>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>